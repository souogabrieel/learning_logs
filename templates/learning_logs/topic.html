{% extends 'base.html' %}

{% block content %}

    <div>
        <h1>{{ topic.title }}</h1>

        {% if public %}
            <p>Tópico criado por: {{ topic.owner }}</p>
        {% else %}
            <a href="{% url 'learning_logs:update_topic' topic.id %}">Atualizar tópico</a>
            <form action="{% url 'learning_logs:delete_topic' topic.id %}" method="post">
                {% csrf_token %}
                <input type="submit" value="Excluir tópico">
            </form>
            <a href="{% url 'learning_logs:create_entry' topic.id %}">Novo registro</a>
        {% endif %}
    </div>

    <div>
        {% for entry in entries %}
            <div>
                <h4>{{ entry.date_created }}</h4>
                <p>{{ entry.content }}</p>
                {% if not public %}
                    <div>
                        <a href="{% url 'learning_logs:update_entry' entry.id %}">Atualizar registro</a>
                        <form action="{% url 'learning_logs:delete_entry' entry.id %}" method="post">
                            {% csrf_token %}
                            <input type="submit" value="Excluir registro">
                        </form>
                    </div>
                {% endif %}
                <hr>
            </div>
        {% empty %}
            <div>
                <p>Não há registros para esse tópico</p>
            </div>
        {% endfor %}
    </div>

{% endblock %}